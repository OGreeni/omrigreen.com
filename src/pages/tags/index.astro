---
import BaseLayout from '../../layouts/BaseLayout.astro';
import type { PostFrontmatter } from '../../layouts/MarkdownPostLayout.astro';

const posts = await Astro.glob<PostFrontmatter>('../posts/*.md');
const uniqueTags = [
  ...new Set(posts.map((post) => post.frontmatter.tags).flat()),
];
---

<BaseLayout pageTitle="tags">
  <h1 class="text-5xl font-bold text-center mb-10">
    All <span class="text-primary">#Tags</span>
  </h1>
  <ul class="flex flex-col gap-5">
    {
      uniqueTags.map((tag) => (
        <div class="card w-80 bg-base-100 shadow-xl">
          <a
            class="card-body hover:opacity-80 hover:scale-105 transition-all"
            href={`/tags/${tag}`}
          >
            <p class="card-title text-2xl">#{tag}</p>
          </a>
        </div>
      ))
    }
  </ul>
</BaseLayout>
